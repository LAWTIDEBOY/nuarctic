module load intel-oneapi-compilers/2022.1.0
module load intel-oneapi-mkl/2022.1.0
module load intel-oneapi-mpi/2021.6.0
module load hdf5/1.12.2-oneapi2022.1.0
module load netcdf-c/4.8.1-oneapi2022.1.0
module load netcdf-fortran/4.5.4-oneapi2022.1.0
module load python/3.7.13
module load analysis-toolbox/03.2023
module load automake/1.16.1-oneapi2022.1.0

NC_LIB="-L${NETCDFFROOT}/lib -lnetcdff"
NC_INC="-I${NETCDFFROOT}/include"
LIBS="$LIBS -L/albedo/home/nmamnun/PDAF_trunk/lib -lpdaf-d -mkl"


export CC=mpiicc FC=mpiifort F90C=mpiifort
export HCOLL_ENABLE_MCAST_ALL="0"
export HCOLL_MAIN_IB=mlx5_0:1
export UCX_IB_ADDR_TYPE=ib_global
export UCX_NET_DEVICES=mlx5_0:1
export UCX_TLS=mm,knem,cma,dc_mlx5,dc_x,self # this line here brings the most speedup factor ~1.5
export UCX_UNIFIED_MODE=y
export UCX_HANDLE_ERRORS=bt
export HDF5_USE_FILE_LOCKING=FALSE

export PDAF_DIR=/albedo/home/nmamnun/PDAF_trunk
export PDAF_ARCH=linux_mpiifort_impi
